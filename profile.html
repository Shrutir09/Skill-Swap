<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Complete Your Profile | SkillSwap</title>

  <link rel="stylesheet" href="css/app.css">
  <link rel="stylesheet" href="css/profile.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

<!-- ROUTE PROTECTION -->
<script>
  if (localStorage.getItem("loggedIn") !== "true") {
    window.location.href = "auth.html";
  }
</script>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="nav-left">
    <a href="app.html" class="logo-link">
      <img src="assets/logo.png" class="logo-img">
      <span class="logo-text">SkillSwap</span>
    </a>
  </div>

  <div class="nav-links" id="navLinks">
    <a href="app.html" class="nav-link active" data-en="Home" data-hi="à¤¹à¥‹à¤®">Home</a>
    <a href="app.html#opportunities" class="nav-link" data-en="Opportunities" data-hi="à¤…à¤µà¤¸à¤°">Opportunities</a>
    <a href="app.html#blogs" class="nav-link" data-en="Blogs" data-hi="à¤¬à¥à¤²à¥‰à¤—">Blogs</a>
    <a href="app.html#contact" class="nav-link" data-en="Contact Us" data-hi="à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚">Contact</a>
    
    <!-- Mobile-only menu items -->
    <div class="mobile-menu-toggles">
      <div class="menu-divider"></div>
      <div class="mobile-toggle-buttons">
        <button class="icon-btn theme-toggle mobile-theme-toggle" aria-label="Toggle theme" title="Toggle dark mode">
          <span class="theme-icon">ðŸŒ™</span>
        </button>
        <button class="icon-btn lang-toggle mobile-lang-toggle" aria-label="Toggle language" title="Toggle language">
          <span class="lang-icon">A/æ–‡</span>
        </button>
      </div>
    </div>
  </div>

  <div class="nav-actions">
    <div class="profile-circle" 
         onclick="toggleProfileMenu()" 
         onkeydown="handleProfileKeydown(event)"
         tabindex="0"
         role="button"
         aria-label="Profile menu"
         aria-expanded="false"
         aria-haspopup="true">
      <img id="avatar" src="assets/profile.png" alt="Profile avatar">
    </div>

    <!-- PROFILE DROPDOWN -->
    <div id="profileMenu" class="profile-menu" role="menu" aria-label="Profile menu">
      <button class="menu-item" 
              onclick="window.location.href='app.html'; closeProfileMenu();" 
              onkeydown="handleMenuItemKeydown(event, () => { window.location.href='app.html'; closeProfileMenu(); })"
              data-en="Back to Home" 
              data-hi="à¤¹à¥‹à¤® à¤ªà¤° à¤µà¤¾à¤ªà¤¸ à¤œà¤¾à¤à¤‚"
              role="menuitem"
              tabindex="-1">
        <i class="fas fa-home"></i>
        <span>Back to Home</span>
      </button>

      <label class="menu-item upload-btn" 
             data-en="Change Avatar" 
             data-hi="à¤…à¤µà¤¤à¤¾à¤° à¤¬à¤¦à¤²à¥‡à¤‚"
             role="menuitem"
             tabindex="-1"
             onclick="setTimeout(() => closeProfileMenu(), 100)">
        <input type="file" accept="image/*" onchange="uploadAvatar(event)">
        <i class="fas fa-image"></i>
        <span>Change Avatar</span>
      </label>

      <div class="menu-divider"></div>

      <button class="menu-item menu-item-danger" 
              onclick="closeProfileMenu(); logout();" 
              onkeydown="handleMenuItemKeydown(event, () => { closeProfileMenu(); logout(); })"
              data-en="Logout" 
              data-hi="à¤²à¥‰à¤—à¤†à¤‰à¤Ÿ"
              role="menuitem"
              tabindex="-1">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
      </button>
    </div>
  </div>

  <button class="mobile-menu-btn" onclick="toggleMobileMenu()" aria-label="Toggle menu" aria-expanded="false">
    <i class="fas fa-bars"></i>
  </button>

</nav>

<!-- PROFILE PAGE -->
<div class="profile-page">
  <div class="profile-container">
    <div class="profile-header">
      <h1 data-en="Complete Your Profile" data-hi="à¤…à¤ªà¤¨à¥€ à¤ªà¥à¤°à¥‹à¤«à¤¼à¤¾à¤‡à¤² à¤ªà¥‚à¤°à¥€ à¤•à¤°à¥‡à¤‚">
        Complete Your Profile
      </h1>
      <p class="profile-subtitle" data-en="Fill in your details to help others find and connect with you"
         data-hi="à¤…à¤ªà¤¨à¥€ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€ à¤­à¤°à¥‡à¤‚ à¤¤à¤¾à¤•à¤¿ à¤¦à¥‚à¤¸à¤°à¥‡ à¤†à¤ªà¤•à¥‹ à¤–à¥‹à¤œ à¤”à¤° à¤œà¥à¤¡à¤¼ à¤¸à¤•à¥‡à¤‚">
        Fill in your details to help others find and connect with you
      </p>
    </div>

    <form id="profileForm" class="profile-form">
      <!-- Avatar Section -->
      <div class="form-section">
        <label class="section-label" data-en="Profile Picture" data-hi="à¤ªà¥à¤°à¥‹à¤«à¤¼à¤¾à¤‡à¤² à¤šà¤¿à¤¤à¥à¤°">
          Profile Picture
        </label>
        <div class="avatar-section">
          <div class="avatar-preview">
            <img id="profileAvatar" src="assets/profile.png" alt="Profile avatar">
            <div class="avatar-overlay">
              <i class="fas fa-camera"></i>
            </div>
          </div>
          <div class="avatar-actions">
            <label class="btn-secondary" for="avatarUpload">
              <i class="fas fa-upload"></i>
              <span data-en="Upload Photo" data-hi="à¤«à¥‹à¤Ÿà¥‹ à¤…à¤ªà¤²à¥‹à¤¡ à¤•à¤°à¥‡à¤‚">Upload Photo</span>
            </label>
            <input type="file" id="avatarUpload" accept="image/*" onchange="handleAvatarUpload(event)" hidden>
            <button type="button" class="btn-secondary" onclick="removeAvatar()">
              <i class="fas fa-trash"></i>
              <span data-en="Remove" data-hi="à¤¹à¤Ÿà¤¾à¤à¤‚">Remove</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Personal Information -->
      <div class="form-section">
        <label class="section-label" data-en="Personal Information" data-hi="à¤µà¥à¤¯à¤•à¥à¤¤à¤¿à¤—à¤¤ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€">
          Personal Information
        </label>
        <div class="form-row">
          <div class="form-group">
            <label for="fullName" data-en="Full Name" data-hi="à¤ªà¥‚à¤°à¤¾ à¤¨à¤¾à¤®">
              Full Name <span class="required">*</span>
            </label>
            <input type="text" id="fullName" name="fullName" placeholder="Enter your full name" required>
            <span class="error-message" id="fullNameError"></span>
          </div>

          <div class="form-group">
            <label for="email" data-en="Email Address" data-hi="à¤ˆà¤®à¥‡à¤² à¤ªà¤¤à¤¾">
              Email Address <span class="required">*</span>
            </label>
            <input type="email" id="email" name="email" placeholder="your.email@example.com" required>
            <span class="error-message" id="emailError"></span>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="phone" data-en="Phone Number" data-hi="à¤«à¥‹à¤¨ à¤¨à¤‚à¤¬à¤°">
              Phone Number
            </label>
            <input type="tel" id="phone" name="phone" placeholder="+1 234 567 8900">
            <span class="error-message" id="phoneError"></span>
          </div>

          <div class="form-group">
            <label for="location" data-en="Location" data-hi="à¤¸à¥à¤¥à¤¾à¤¨">
              Location
            </label>
            <input type="text" id="location" name="location" placeholder="City, Country">
          </div>
        </div>
      </div>

      <!-- Bio Section -->
      <div class="form-section">
        <label class="section-label" data-en="About You" data-hi="à¤†à¤ªà¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚">
          About You
        </label>
        <div class="form-group">
          <textarea id="bio" name="bio" rows="4" 
                    placeholder="Tell us about yourself, your interests, and what you're passionate about..."
                    data-placeholder-en="Tell us about yourself, your interests, and what you're passionate about..."
                    data-placeholder-hi="à¤¹à¤®à¥‡à¤‚ à¤…à¤ªà¤¨à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚, à¤…à¤ªà¤¨à¥€ à¤°à¥à¤šà¤¿à¤¯à¥‹à¤‚ à¤”à¤° à¤œà¤¿à¤¸ à¤šà¥€à¤œà¤¼ à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¥€ à¤°à¥à¤šà¤¿ à¤¹à¥ˆ, à¤‰à¤¸à¤•à¥‡ à¤¬à¤¾à¤°à¥‡ à¤®à¥‡à¤‚ à¤¬à¤¤à¤¾à¤à¤‚..."></textarea>
          <span class="char-count"><span id="bioCharCount">0</span> / 500</span>
        </div>
      </div>

      <!-- Skills Section -->
      <div class="form-section">
        <label class="section-label" data-en="Skills" data-hi="à¤•à¥Œà¤¶à¤²">
          Skills
        </label>
        <div class="form-group">
          <div class="skills-input-container">
            <input type="text" id="skillInput" 
                   placeholder="Add a skill and press Enter"
                   data-placeholder-en="Add a skill and press Enter"
                   data-placeholder-hi="à¤à¤• à¤•à¥Œà¤¶à¤² à¤œà¥‹à¤¡à¤¼à¥‡à¤‚ à¤”à¤° Enter à¤¦à¤¬à¤¾à¤à¤‚">
            <button type="button" class="btn-add-skill" onclick="addSkill()">
              <i class="fas fa-plus"></i>
            </button>
          </div>
          <div class="skills-tags" id="skillsContainer">
            <!-- Skills will be added here dynamically -->
          </div>
          <p class="help-text" data-en="Add skills you can teach or want to learn" data-hi="à¤‰à¤¨ à¤•à¥Œà¤¶à¤²à¥‹à¤‚ à¤•à¥‹ à¤œà¥‹à¤¡à¤¼à¥‡à¤‚ à¤œà¤¿à¤¨à¥à¤¹à¥‡à¤‚ à¤†à¤ª à¤¸à¤¿à¤–à¤¾ à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚ à¤¯à¤¾ à¤¸à¥€à¤–à¤¨à¤¾ à¤šà¤¾à¤¹à¤¤à¥‡ à¤¹à¥ˆà¤‚">
            Add skills you can teach or want to learn
          </p>
        </div>
      </div>

      <!-- Social Links -->
      <div class="form-section">
        <label class="section-label" data-en="Social Links" data-hi="à¤¸à¥‹à¤¶à¤² à¤²à¤¿à¤‚à¤•">
          Social Links
        </label>
        <div class="form-row">
          <div class="form-group">
            <label for="github">
              <i class="fab fa-github"></i>
              <span data-en="GitHub" data-hi="GitHub">GitHub</span>
            </label>
            <input type="url" id="github" name="github" placeholder="https://github.com/username">
            <span class="error-message" id="githubError"></span>
          </div>

          <div class="form-group">
            <label for="linkedin">
              <i class="fab fa-linkedin"></i>
              <span data-en="LinkedIn" data-hi="LinkedIn">LinkedIn</span>
            </label>
            <input type="url" id="linkedin" name="linkedin" placeholder="https://linkedin.com/in/username">
            <span class="error-message" id="linkedinError"></span>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="portfolio">
              <i class="fas fa-globe"></i>
              <span data-en="Portfolio Website" data-hi="à¤ªà¥‹à¤°à¥à¤Ÿà¤«à¥‹à¤²à¤¿à¤¯à¥‹ à¤µà¥‡à¤¬à¤¸à¤¾à¤‡à¤Ÿ">Portfolio Website</span>
            </label>
            <input type="url" id="portfolio" name="portfolio" placeholder="https://yourportfolio.com">
            <span class="error-message" id="portfolioError"></span>
          </div>

          <div class="form-group">
            <label for="twitter">
              <i class="fab fa-twitter"></i>
              <span data-en="Twitter/X" data-hi="Twitter/X">Twitter/X</span>
            </label>
            <input type="url" id="twitter" name="twitter" placeholder="https://twitter.com/username">
            <span class="error-message" id="twitterError"></span>
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="form-actions">
        <button type="button" class="btn-secondary" onclick="resetForm()" data-en="Reset" data-hi="à¤°à¥€à¤¸à¥‡à¤Ÿ">
          <i class="fas fa-redo"></i>
          Reset
        </button>
        <button type="submit" class="btn-primary" id="saveBtn">
          <i class="fas fa-save"></i>
          <span data-en="Save Profile" data-hi="à¤ªà¥à¤°à¥‹à¤«à¤¼à¤¾à¤‡à¤² à¤¸à¤¹à¥‡à¤œà¥‡à¤‚">Save Profile</span>
        </button>
      </div>
    </form>

    <!-- Success Message -->
    <div id="successMessage" class="success-message hidden">
      <i class="fas fa-check-circle"></i>
      <span data-en="Profile saved successfully!" data-hi="à¤ªà¥à¤°à¥‹à¤«à¤¼à¤¾à¤‡à¤² à¤¸à¤«à¤²à¤¤à¤¾à¤ªà¥‚à¤°à¥à¤µà¤• à¤¸à¤¹à¥‡à¤œà¥€ à¤—à¤ˆ!">
        Profile saved successfully!
      </span>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <p data-en="Â© 2025 SkillSwap" data-hi="Â© 2025 SkillSwap">Â© 2025 SkillSwap</p>
  <div class="socials">
    <i class="fab fa-twitter"></i>
    <i class="fab fa-whatsapp"></i>
    <i class="fab fa-facebook"></i>
    <i class="fab fa-linkedin"></i>
    <i class="fab fa-instagram"></i>
    <i class="fab fa-telegram"></i>
  </div>
</footer>

<script src="JS/app.js"></script>
<script src="JS/profile.js"></script>

</body>
</html>

